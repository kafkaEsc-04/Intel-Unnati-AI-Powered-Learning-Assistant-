<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#1e293b">MnemoCore Multimodal Assistant Architecture</text>
  
  <!-- Frontend Section -->
  <rect x="50" y="60" width="500" height="650" fill="#e0f2fe" stroke="#0891b2" stroke-width="2" rx="10"/>
  <text x="300" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#0891b2">Frontend (Streamlit UI)</text>
  
  <!-- Input Components -->
  <rect x="70" y="100" width="460" height="180" fill="#f0f9ff" stroke="#0284c7" stroke-width="1" rx="5"/>
  <text x="80" y="120" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0284c7">Input Components</text>
  
  <!-- Text Input -->
  <rect x="80" y="130" width="100" height="40" fill="#bfdbfe" stroke="#3b82f6" stroke-width="1" rx="3"/>
  <text x="130" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#1e40af">Text Input</text>
  <text x="80" y="180" font-family="Arial, sans-serif" font-size="10" fill="#64748b">st.chat_input()</text>
  
  <!-- Voice Input -->
  <rect x="190" y="130" width="100" height="40" fill="#fbbf24" stroke="#f59e0b" stroke-width="1" rx="3"/>
  <text x="240" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#92400e">Voice Input</text>
  <text x="190" y="180" font-family="Arial, sans-serif" font-size="10" fill="#64748b">JS/HTML Mic</text>
  
  <!-- PDF Upload -->
  <rect x="300" y="130" width="100" height="40" fill="#f87171" stroke="#ef4444" stroke-width="1" rx="3"/>
  <text x="350" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#991b1b">PDF Upload</text>
  <text x="300" y="180" font-family="Arial, sans-serif" font-size="10" fill="#64748b">st.file_uploader()</text>
  
  <!-- Image Upload -->
  <rect x="410" y="130" width="100" height="40" fill="#a78bfa" stroke="#8b5cf6" stroke-width="1" rx="3"/>
  <text x="460" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#5b21b6">Image Upload</text>
  <text x="410" y="180" font-family="Arial, sans-serif" font-size="10" fill="#64748b">PNG/JPG</text>
  
  <!-- MP3 Upload -->
  <rect x="80" y="200" width="100" height="40" fill="#34d399" stroke="#10b981" stroke-width="1" rx="3"/>
  <text x="130" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#047857">MP3 Upload</text>
  <text x="80" y="250" font-family="Arial, sans-serif" font-size="10" fill="#64748b">Audio Files</text>
  
  <!-- Session Picker -->
  <rect x="190" y="200" width="100" height="40" fill="#fb7185" stroke="#f43f5e" stroke-width="1" rx="3"/>
  <text x="240" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#9f1239">Session Picker</text>
  <text x="190" y="250" font-family="Arial, sans-serif" font-size="10" fill="#64748b">Sidebar</text>
  
  <!-- Chat UI -->
  <rect x="70" y="300" width="460" height="120" fill="#f0f9ff" stroke="#0284c7" stroke-width="1" rx="5"/>
  <text x="80" y="320" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0284c7">Chat Interface</text>
  <text x="80" y="340" font-family="Arial, sans-serif" font-size="12" fill="#475569">• Chat history display</text>
  <text x="80" y="360" font-family="Arial, sans-serif" font-size="12" fill="#475569">• Alternating user/assistant messages</text>
  <text x="80" y="380" font-family="Arial, sans-serif" font-size="12" fill="#475569">• Audio playback controls</text>
  <text x="80" y="400" font-family="Arial, sans-serif" font-size="12" fill="#475569">• Real-time response streaming</text>
  
  <!-- Backend Section -->
  <rect x="650" y="60" width="500" height="650" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" rx="10"/>
  <text x="900" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#f59e0b">Backend (Python Services)</text>
  
  <!-- Processing Modules -->
  <rect x="670" y="100" width="460" height="280" fill="#fffbeb" stroke="#f59e0b" stroke-width="1" rx="5"/>
  <text x="680" y="120" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#f59e0b">Processing Modules</text>
  
  <!-- Voice Utils -->
  <rect x="680" y="130" width="140" height="60" fill="#fbbf24" stroke="#f59e0b" stroke-width="1" rx="3"/>
  <text x="750" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#92400e">voice_utils.py</text>
  <text x="680" y="165" font-family="Arial, sans-serif" font-size="10" fill="#92400e">Faster-Whisper</text>
  <text x="680" y="175" font-family="Arial, sans-serif" font-size="10" fill="#92400e">Base64 → Text</text>
  
  <!-- OCR Utils -->
  <rect x="830" y="130" width="140" height="60" fill="#a78bfa" stroke="#8b5cf6" stroke-width="1" rx="3"/>
  <text x="900" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#5b21b6">ocr_utils.py</text>
  <text x="830" y="165" font-family="Arial, sans-serif" font-size="10" fill="#5b21b6">Pytesseract</text>
  <text x="830" y="175" font-family="Arial, sans-serif" font-size="10" fill="#5b21b6">Image → Text</text>
  
  <!-- RAG Utils -->
  <rect x="980" y="130" width="140" height="60" fill="#f87171" stroke="#ef4444" stroke-width="1" rx="3"/>
  <text x="1050" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#991b1b">rag_utils.py</text>
  <text x="980" y="165" font-family="Arial, sans-serif" font-size="10" fill="#991b1b">Chroma DB</text>
  <text x="980" y="175" font-family="Arial, sans-serif" font-size="10" fill="#991b1b">Vector Search</text>
  
  <!-- LLM Core -->
  <rect x="680" y="210" width="290" height="80" fill="#fee2e2" stroke="#dc2626" stroke-width="2" rx="5"/>
  <text x="825" y="235" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#dc2626">LLM Core</text>
  <text x="825" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#dc2626">llm_wrapper.py</text>
  <text x="825" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#dc2626">OpenVINO-accelerated LLM (Phi-3)</text>
  
  <!-- Chat Utils -->
  <rect x="980" y="210" width="140" height="80" fill="#34d399" stroke="#10b981" stroke-width="1" rx="3"/>
  <text x="1050" y="235" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#047857">chat_utils.py</text>
  <text x="980" y="250" font-family="Arial, sans-serif" font-size="10" fill="#047857">• save_chat()</text>
  <text x="980" y="265" font-family="Arial, sans-serif" font-size="10" fill="#047857">• load_chat()</text>
  <text x="980" y="280" font-family="Arial, sans-serif" font-size="10" fill="#047857">• list_sessions()</text>
  
  <!-- Session Management -->
  <rect x="670" y="400" width="460" height="120" fill="#fffbeb" stroke="#f59e0b" stroke-width="1" rx="5"/>
  <text x="680" y="420" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#f59e0b">Session Management</text>
  <text x="680" y="440" font-family="Arial, sans-serif" font-size="12" fill="#475569">Each session maintains:</text>
  <text x="680" y="460" font-family="Arial, sans-serif" font-size="12" fill="#475569">• Chat history (JSON)</text>
  <text x="680" y="480" font-family="Arial, sans-serif" font-size="12" fill="#475569">• Uploaded PDFs and images</text>
  <text x="680" y="500" font-family="Arial, sans-serif" font-size="12" fill="#475569">• Vectorstore (/vectorstore/{session_id})</text>
  
  <!-- Data Storage -->
  <rect x="670" y="540" width="460" height="80" fill="#fffbeb" stroke="#f59e0b" stroke-width="1" rx="5"/>
  <text x="680" y="560" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#f59e0b">Data Storage</text>
  <text x="680" y="580" font-family="Arial, sans-serif" font-size="12" fill="#475569">• Chroma vectorstore (embeddings)</text>
  <text x="680" y="600" font-family="Arial, sans-serif" font-size="12" fill="#475569">• JSON chat history</text>
  <text x="680" y="620" font-family="Arial, sans-serif" font-size="12" fill="#475569">• Session metadata</text>
  
  <!-- Communication Arrow -->
  <path d="M 550 385 L 650 385" stroke="#0891b2" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <text x="600" y="380" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#0891b2">HTTP/WebSocket</text>
  
  <!-- Data Flow Arrows -->
  <!-- Voice to Voice Utils -->
  <path d="M 240 170 Q 400 250 680 160" stroke="#f59e0b" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
  
  <!-- Image to OCR Utils -->
  <path d="M 460 170 Q 650 200 830 160" stroke="#8b5cf6" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
  
  <!-- PDF to RAG Utils -->
  <path d="M 400 150 Q 650 100 980 160" stroke="#ef4444" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
  
  <!-- Processing to LLM -->
  <path d="M 825 190 L 825 210" stroke="#dc2626" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- LLM to Chat Utils -->
  <path d="M 970 250 L 980 250" stroke="#10b981" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Response back to Frontend -->
  <path d="M 650 250 L 550 250" stroke="#10b981" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#0891b2"/>
    </marker>
  </defs>
  
  <!-- Legend -->
  <rect x="50" y="730" width="600" height="60" fill="#f1f5f9" stroke="#64748b" stroke-width="1" rx="5"/>
  <text x="60" y="750" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1e293b">Data Flow Legend:</text>
  <line x1="60" y1="760" x2="80" y2="760" stroke="#0891b2" stroke-width="3"/>
  <text x="85" y="765" font-family="Arial, sans-serif" font-size="12" fill="#64748b">Main Communication</text>
  <line x1="200" y1="760" x2="220" y2="760" stroke="#f59e0b" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="225" y="765" font-family="Arial, sans-serif" font-size="12" fill="#64748b">Input Processing</text>
  <line x1="350" y1="760" x2="370" y2="760" stroke="#10b981" stroke-width="3"/>
  <text x="375" y="765" font-family="Arial, sans-serif" font-size="12" fill="#64748b">Response Flow</text>
</svg>